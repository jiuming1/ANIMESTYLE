{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 15, "column": 0}, "map": {"version":3,"sources":["file://D%3A/%E8%87%AA%E5%8A%A8%E5%8C%96%E4%BA%8C%E5%AD%A6%E4%BD%8D/%E6%AF%95%E4%B8%9A%E7%9F%A5%E8%AF%86%E5%87%86%E5%A4%87/%E6%AF%95%E4%B8%9A%E8%AE%BE%E8%AE%A1/animestyle/frontend/src/store/theme.ts"],"sourcesContent":["'use client';\r\n\r\nimport { create } from 'zustand';\r\n\r\ninterface ThemeState {\r\n  isDark: boolean;\r\n  toggleTheme: () => void;\r\n  setTheme: (isDark: boolean) => void;\r\n}\r\n\r\n// 获取初始主题状态\r\nconst getInitialTheme = () => {\r\n  if (typeof window === 'undefined') return false;\r\n  \r\n  try {\r\n    const storedTheme = localStorage.getItem('theme-storage');\r\n    if (storedTheme) {\r\n      const { state } = JSON.parse(storedTheme);\r\n      return !!state.isDark;\r\n    }\r\n    return window.matchMedia('(prefers-color-scheme: dark)').matches;\r\n  } catch {\r\n    return false;\r\n  }\r\n};\r\n\r\nexport const useThemeStore = create<ThemeState>((set) => ({\r\n  isDark: getInitialTheme(),\r\n  toggleTheme: () => \r\n    set((state) => {\r\n      const newIsDark = !state.isDark;\r\n      if (typeof window !== 'undefined') {\r\n        localStorage.setItem('theme-storage', JSON.stringify({ state: { isDark: newIsDark } }));\r\n      }\r\n      return { isDark: newIsDark };\r\n    }),\r\n  setTheme: (isDark: boolean) => {\r\n    if (typeof window !== 'undefined') {\r\n      localStorage.setItem('theme-storage', JSON.stringify({ state: { isDark } }));\r\n    }\r\n    set({ isDark });\r\n  },\r\n})); "],"names":[],"mappings":";;;AAEA;AAFA;;AAUA,WAAW;AACX,MAAM,kBAAkB;IACtB,wCAAmC,OAAO;;AAY5C;AAEO,MAAM,gBAAgB,CAAA,GAAA,wIAAA,CAAA,SAAM,AAAD,EAAc,CAAC,MAAQ,CAAC;QACxD,QAAQ;QACR,aAAa,IACX,IAAI,CAAC;gBACH,MAAM,YAAY,CAAC,MAAM,MAAM;gBAC/B,uCAAmC;;gBAEnC;gBACA,OAAO;oBAAE,QAAQ;gBAAU;YAC7B;QACF,UAAU,CAAC;YACT,uCAAmC;;YAEnC;YACA,IAAI;gBAAE;YAAO;QACf;IACF,CAAC"}},
    {"offset": {"line": 46, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 52, "column": 0}, "map": {"version":3,"sources":["file://D%3A/%E8%87%AA%E5%8A%A8%E5%8C%96%E4%BA%8C%E5%AD%A6%E4%BD%8D/%E6%AF%95%E4%B8%9A%E7%9F%A5%E8%AF%86%E5%87%86%E5%A4%87/%E6%AF%95%E4%B8%9A%E8%AE%BE%E8%AE%A1/animestyle/frontend/src/components/ThemeProvider.tsx"],"sourcesContent":["'use client';\r\n\r\nimport { FC, useEffect, useState } from 'react';\r\nimport { useThemeStore } from '@/store/theme';\r\n\r\ninterface ThemeProviderProps {\r\n  children: React.ReactNode;\r\n}\r\n\r\n/**\r\n * 主题提供者组件\r\n */\r\nconst ThemeProvider: FC<ThemeProviderProps> = ({ children }) => {\r\n  const [mounted, setMounted] = useState(false);\r\n  const { isDark, setTheme } = useThemeStore();\r\n\r\n  // 初始化挂载状态\r\n  useEffect(() => {\r\n    setMounted(true);\r\n  }, []);\r\n\r\n  // 初始化主题\r\n  useEffect(() => {\r\n    const root = document.documentElement;\r\n    const prefersDark = window.matchMedia('(prefers-color-scheme: dark)').matches;\r\n    \r\n    // 尝试从localStorage获取主题\r\n    try {\r\n      const storedTheme = localStorage.getItem('theme-storage');\r\n      if (storedTheme) {\r\n        const { state } = JSON.parse(storedTheme);\r\n        const theme = !!state.isDark;\r\n        setTheme(theme);\r\n        root.classList.toggle('dark', theme);\r\n      } else {\r\n        setTheme(prefersDark);\r\n        root.classList.toggle('dark', prefersDark);\r\n      }\r\n    } catch {\r\n      setTheme(prefersDark);\r\n      root.classList.toggle('dark', prefersDark);\r\n    }\r\n\r\n    // 监听系统主题变化\r\n    const mediaQuery = window.matchMedia('(prefers-color-scheme: dark)');\r\n    const handleChange = (e: MediaQueryListEvent) => {\r\n      if (!localStorage.getItem('theme-storage')) {\r\n        setTheme(e.matches);\r\n        root.classList.toggle('dark', e.matches);\r\n      }\r\n    };\r\n\r\n    mediaQuery.addEventListener('change', handleChange);\r\n    return () => mediaQuery.removeEventListener('change', handleChange);\r\n  }, [setTheme]);\r\n\r\n  // 监听主题变化并应用\r\n  useEffect(() => {\r\n    if (mounted) {\r\n      const root = document.documentElement;\r\n      root.classList.toggle('dark', isDark);\r\n      \r\n      // 更新localStorage\r\n      localStorage.setItem('theme-storage', JSON.stringify({ state: { isDark } }));\r\n    }\r\n  }, [isDark, mounted]);\r\n\r\n  // 避免服务端渲染闪烁\r\n  if (!mounted) {\r\n    return (\r\n      <div suppressHydrationWarning>\r\n        {children}\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return children;\r\n};\r\n\r\nexport default ThemeProvider; "],"names":[],"mappings":";;;;AAEA;AACA;AAHA;;;;AASA;;CAEC,GACD,MAAM,gBAAwC,CAAC,EAAE,QAAQ,EAAE;IACzD,MAAM,CAAC,SAAS,WAAW,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAE;IACvC,MAAM,EAAE,MAAM,EAAE,QAAQ,EAAE,GAAG,CAAA,GAAA,qHAAA,CAAA,gBAAa,AAAD;IAEzC,UAAU;IACV,CAAA,GAAA,qMAAA,CAAA,YAAS,AAAD,EAAE;QACR,WAAW;IACb,GAAG,EAAE;IAEL,QAAQ;IACR,CAAA,GAAA,qMAAA,CAAA,YAAS,AAAD,EAAE;QACR,MAAM,OAAO,SAAS,eAAe;QACrC,MAAM,cAAc,OAAO,UAAU,CAAC,gCAAgC,OAAO;QAE7E,sBAAsB;QACtB,IAAI;YACF,MAAM,cAAc,aAAa,OAAO,CAAC;YACzC,IAAI,aAAa;gBACf,MAAM,EAAE,KAAK,EAAE,GAAG,KAAK,KAAK,CAAC;gBAC7B,MAAM,QAAQ,CAAC,CAAC,MAAM,MAAM;gBAC5B,SAAS;gBACT,KAAK,SAAS,CAAC,MAAM,CAAC,QAAQ;YAChC,OAAO;gBACL,SAAS;gBACT,KAAK,SAAS,CAAC,MAAM,CAAC,QAAQ;YAChC;QACF,EAAE,OAAM;YACN,SAAS;YACT,KAAK,SAAS,CAAC,MAAM,CAAC,QAAQ;QAChC;QAEA,WAAW;QACX,MAAM,aAAa,OAAO,UAAU,CAAC;QACrC,MAAM,eAAe,CAAC;YACpB,IAAI,CAAC,aAAa,OAAO,CAAC,kBAAkB;gBAC1C,SAAS,EAAE,OAAO;gBAClB,KAAK,SAAS,CAAC,MAAM,CAAC,QAAQ,EAAE,OAAO;YACzC;QACF;QAEA,WAAW,gBAAgB,CAAC,UAAU;QACtC,OAAO,IAAM,WAAW,mBAAmB,CAAC,UAAU;IACxD,GAAG;QAAC;KAAS;IAEb,YAAY;IACZ,CAAA,GAAA,qMAAA,CAAA,YAAS,AAAD,EAAE;QACR,IAAI,SAAS;YACX,MAAM,OAAO,SAAS,eAAe;YACrC,KAAK,SAAS,CAAC,MAAM,CAAC,QAAQ;YAE9B,iBAAiB;YACjB,aAAa,OAAO,CAAC,iBAAiB,KAAK,SAAS,CAAC;gBAAE,OAAO;oBAAE;gBAAO;YAAE;QAC3E;IACF,GAAG;QAAC;QAAQ;KAAQ;IAEpB,YAAY;IACZ,IAAI,CAAC,SAAS;QACZ,qBACE,8OAAC;YAAI,wBAAwB;sBAC1B;;;;;;IAGP;IAEA,OAAO;AACT;uCAEe"}},
    {"offset": {"line": 134, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 144, "column": 0}, "map": {"version":3,"sources":["file://D%3A/%E8%87%AA%E5%8A%A8%E5%8C%96%E4%BA%8C%E5%AD%A6%E4%BD%8D/%E6%AF%95%E4%B8%9A%E7%9F%A5%E8%AF%86%E5%87%86%E5%A4%87/%E6%AF%95%E4%B8%9A%E8%AE%BE%E8%AE%A1/animestyle/frontend/node_modules/next/src/server/route-modules/app-page/module.compiled.js"],"sourcesContent":["if (process.env.NEXT_RUNTIME === 'edge') {\n  module.exports = require('next/dist/server/route-modules/app-page/module.js')\n} else {\n  if (process.env.__NEXT_EXPERIMENTAL_REACT) {\n    if (process.env.NODE_ENV === 'development') {\n      module.exports = require('next/dist/compiled/next-server/app-page-experimental.runtime.dev.js')\n    } else if (process.env.TURBOPACK) {\n      module.exports = require('next/dist/compiled/next-server/app-page-turbo-experimental.runtime.prod.js')\n    } else {\n      module.exports = require('next/dist/compiled/next-server/app-page-experimental.runtime.prod.js')\n    }\n  } else {\n    if (process.env.NODE_ENV === 'development') {\n      module.exports = require('next/dist/compiled/next-server/app-page.runtime.dev.js')\n    } else if (process.env.TURBOPACK) {\n      module.exports = require('next/dist/compiled/next-server/app-page-turbo.runtime.prod.js')\n    } else {\n      module.exports = require('next/dist/compiled/next-server/app-page.runtime.prod.js')\n    }\n  }\n}\n"],"names":["process","env","NEXT_RUNTIME","module","exports","require","__NEXT_EXPERIMENTAL_REACT","NODE_ENV","TURBOPACK"],"mappings":";AAAA,IAAIA,QAAQC,GAAG,CAACC,YAAY,KAAK,MAAQ;;AAEzC,OAAO;IACL,IAAIF,QAAQC,GAAG,CAACK,uBAA2B,EAAF;;IAQzC,OAAO;QACL,IAAIN,QAAQC,GAAG,CAACM,QAAQ,KAAK,WAAe;YAC1CJ,OAAOC,OAAO,GAAGC,QAAQ;QAC3B,OAAO,IAAIL,QAAQC,GAAG,CAACO,SAAS,EAAE;;QAIlC;IACF;AACF","ignoreList":[0]}},
    {"offset": {"line": 158, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 163, "column": 0}, "map": {"version":3,"sources":["file://D%3A/%E8%87%AA%E5%8A%A8%E5%8C%96%E4%BA%8C%E5%AD%A6%E4%BD%8D/%E6%AF%95%E4%B8%9A%E7%9F%A5%E8%AF%86%E5%87%86%E5%A4%87/%E6%AF%95%E4%B8%9A%E8%AE%BE%E8%AE%A1/animestyle/frontend/node_modules/next/src/server/route-modules/app-page/vendored/ssr/react-jsx-dev-runtime.ts"],"sourcesContent":["module.exports = require('../../module.compiled').vendored[\n  'react-ssr'\n].ReactJsxDevRuntime\n"],"names":["module","exports","require","vendored","ReactJsxDevRuntime"],"mappings":";AAAAA,OAAOC,OAAO,GAAGC,QAAQ,0HAAyBC,QAAQ,CACxD,YACD,CAACC,kBAAkB","ignoreList":[0]}},
    {"offset": {"line": 165, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 170, "column": 0}, "map": {"version":3,"sources":["file://D%3A/%E8%87%AA%E5%8A%A8%E5%8C%96%E4%BA%8C%E5%AD%A6%E4%BD%8D/%E6%AF%95%E4%B8%9A%E7%9F%A5%E8%AF%86%E5%87%86%E5%A4%87/%E6%AF%95%E4%B8%9A%E8%AE%BE%E8%AE%A1/animestyle/frontend/node_modules/next/src/server/route-modules/app-page/vendored/ssr/react.ts"],"sourcesContent":["module.exports = require('../../module.compiled').vendored['react-ssr'].React\n"],"names":["module","exports","require","vendored","React"],"mappings":";AAAAA,OAAOC,OAAO,GAAGC,QAAQ,0HAAyBC,QAAQ,CAAC,YAAY,CAACC,KAAK","ignoreList":[0]}},
    {"offset": {"line": 172, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 178, "column": 0}, "map": {"version":3,"sources":["file://D%3A/%E8%87%AA%E5%8A%A8%E5%8C%96%E4%BA%8C%E5%AD%A6%E4%BD%8D/%E6%AF%95%E4%B8%9A%E7%9F%A5%E8%AF%86%E5%87%86%E5%A4%87/%E6%AF%95%E4%B8%9A%E8%AE%BE%E8%AE%A1/animestyle/frontend/node_modules/zustand/esm/vanilla.mjs"],"sourcesContent":["const createStoreImpl = (createState) => {\n  let state;\n  const listeners = /* @__PURE__ */ new Set();\n  const setState = (partial, replace) => {\n    const nextState = typeof partial === \"function\" ? partial(state) : partial;\n    if (!Object.is(nextState, state)) {\n      const previousState = state;\n      state = (replace != null ? replace : typeof nextState !== \"object\" || nextState === null) ? nextState : Object.assign({}, state, nextState);\n      listeners.forEach((listener) => listener(state, previousState));\n    }\n  };\n  const getState = () => state;\n  const getInitialState = () => initialState;\n  const subscribe = (listener) => {\n    listeners.add(listener);\n    return () => listeners.delete(listener);\n  };\n  const api = { setState, getState, getInitialState, subscribe };\n  const initialState = state = createState(setState, getState, api);\n  return api;\n};\nconst createStore = (createState) => createState ? createStoreImpl(createState) : createStoreImpl;\n\nexport { createStore };\n"],"names":[],"mappings":";;;AAAA,MAAM,kBAAkB,CAAC;IACvB,IAAI;IACJ,MAAM,YAAY,aAAa,GAAG,IAAI;IACtC,MAAM,WAAW,CAAC,SAAS;QACzB,MAAM,YAAY,OAAO,YAAY,aAAa,QAAQ,SAAS;QACnE,IAAI,CAAC,OAAO,EAAE,CAAC,WAAW,QAAQ;YAChC,MAAM,gBAAgB;YACtB,QAAQ,CAAC,WAAW,OAAO,UAAU,OAAO,cAAc,YAAY,cAAc,IAAI,IAAI,YAAY,OAAO,MAAM,CAAC,CAAC,GAAG,OAAO;YACjI,UAAU,OAAO,CAAC,CAAC,WAAa,SAAS,OAAO;QAClD;IACF;IACA,MAAM,WAAW,IAAM;IACvB,MAAM,kBAAkB,IAAM;IAC9B,MAAM,YAAY,CAAC;QACjB,UAAU,GAAG,CAAC;QACd,OAAO,IAAM,UAAU,MAAM,CAAC;IAChC;IACA,MAAM,MAAM;QAAE;QAAU;QAAU;QAAiB;IAAU;IAC7D,MAAM,eAAe,QAAQ,YAAY,UAAU,UAAU;IAC7D,OAAO;AACT;AACA,MAAM,cAAc,CAAC,cAAgB,cAAc,gBAAgB,eAAe","ignoreList":[0]}},
    {"offset": {"line": 209, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 215, "column": 0}, "map": {"version":3,"sources":["file://D%3A/%E8%87%AA%E5%8A%A8%E5%8C%96%E4%BA%8C%E5%AD%A6%E4%BD%8D/%E6%AF%95%E4%B8%9A%E7%9F%A5%E8%AF%86%E5%87%86%E5%A4%87/%E6%AF%95%E4%B8%9A%E8%AE%BE%E8%AE%A1/animestyle/frontend/node_modules/zustand/esm/react.mjs"],"sourcesContent":["import React from 'react';\nimport { createStore } from 'zustand/vanilla';\n\nconst identity = (arg) => arg;\nfunction useStore(api, selector = identity) {\n  const slice = React.useSyncExternalStore(\n    api.subscribe,\n    () => selector(api.getState()),\n    () => selector(api.getInitialState())\n  );\n  React.useDebugValue(slice);\n  return slice;\n}\nconst createImpl = (createState) => {\n  const api = createStore(createState);\n  const useBoundStore = (selector) => useStore(api, selector);\n  Object.assign(useBoundStore, api);\n  return useBoundStore;\n};\nconst create = (createState) => createState ? createImpl(createState) : createImpl;\n\nexport { create, useStore };\n"],"names":[],"mappings":";;;;AAAA;AACA;;;AAEA,MAAM,WAAW,CAAC,MAAQ;AAC1B,SAAS,SAAS,GAAG,EAAE,WAAW,QAAQ;IACxC,MAAM,QAAQ,qMAAA,CAAA,UAAK,CAAC,oBAAoB,CACtC,IAAI,SAAS,EACb,IAAM,SAAS,IAAI,QAAQ,KAC3B,IAAM,SAAS,IAAI,eAAe;IAEpC,qMAAA,CAAA,UAAK,CAAC,aAAa,CAAC;IACpB,OAAO;AACT;AACA,MAAM,aAAa,CAAC;IAClB,MAAM,MAAM,CAAA,GAAA,0IAAA,CAAA,cAAW,AAAD,EAAE;IACxB,MAAM,gBAAgB,CAAC,WAAa,SAAS,KAAK;IAClD,OAAO,MAAM,CAAC,eAAe;IAC7B,OAAO;AACT;AACA,MAAM,SAAS,CAAC,cAAgB,cAAc,WAAW,eAAe","ignoreList":[0]}},
    {"offset": {"line": 237, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}}]
}